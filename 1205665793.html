<!DOCTYPE html>
<html>
    <head>
        <title>BaaS для партнеров : Список операций по счёту партнера / account_operations</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">BaaS для партнеров</a></span>
                            </li>
                                                    <li>
                                <span><a href="145621108.html">BaaS для партнеров Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="619413648.html">Прием платежей, выплаты на карты, операции холдирования и рекуррентов</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            BaaS для партнеров : Список операций по счёту партнера / account_operations
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Polina Chunareva</span>, last modified by <span class='editor'> Наталья Моргунова</span> on янв. 20, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h2 id="id-Списокоперацийпосчётупартнера/account_operations-Списокоперацийпосчётупартнера/account_operations">Список операций по счёту партнера / account_operations</h2><h3 id="id-Списокоперацийпосчётупартнера/account_operations-Методполученияспискаопераций">Метод получения списка операций</h3><p>Метод позволяет запросить список операций партнера за период.</p><blockquote><p>GET /api/v1/operations</p></blockquote><div class="table-wrap"><table data-layout="default" data-local-id="b7b3d801-9d1a-4f62-bf30-08dfcf23ef4d" class="confluenceTable"><colgroup><col style="width: 190.0px;"/><col style="width: 190.0px;"/><col style="width: 190.0px;"/><col style="width: 190.0px;"/></colgroup><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>URL параметры</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Описание</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Тип</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>По умолчанию</strong></p></th></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>from_date</strong></p></th><td class="confluenceTd"><p>начиная с даты</p></td><td class="confluenceTd"><p>string (query)</p></td><td class="confluenceTd"><p>-1 month</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>to_date</strong></p></th><td class="confluenceTd"><p>вплоть до даты</p></td><td class="confluenceTd"><p>string (query)</p></td><td class="confluenceTd"><p>now</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>page</strong></p></th><td class="confluenceTd"><p>номер страницы</p></td><td class="confluenceTd"><p>int (query)</p></td><td class="confluenceTd"><p>1</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>on_page</strong></p></th><td class="confluenceTd"><p>количество операций на страницу</p></td><td class="confluenceTd"><p>int (query)</p></td><td class="confluenceTd"><p>50</p></td></tr></tbody></table></div><p> </p><p><strong>Пример ответа: Status 200 OK</strong></p><div class="table-wrap"><table data-layout="default" data-local-id="74aaf58f-9d07-4e98-b862-84ea69258d47" class="confluenceTable"><colgroup><col style="width: 760.0px;"/></colgroup><tbody><tr><td data-highlight-colour="initial" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
    &quot;items&quot;: [],
    &quot;total&quot;: 0,
    &quot;page&quot;: 1,
    &quot;pages&quot;: 0
}</pre>
</div></div></td></tr></tbody></table></div><p><strong>Пример ответа ошибки токена: Status 403 Forbidden</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
    &quot;description&quot;: &quot;Forbidden&quot;,
    &quot;errors&quot;: [],
    &quot;date&quot;: &quot;2021-10-11T08:23:48+00:00&quot;
}
</pre>
</div></div><p><strong>Пример ответа при ошибке метода: Status 500 Internal Server Error</strong></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
    &quot;description&quot;: &quot;Runtime error. Please try later.&quot;
}</pre>
</div></div><p /><p> </p><div class="table-wrap"><table data-layout="default" data-local-id="ec3e6b8c-24e4-4fa9-bbef-0f2b1ac7c786" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Поле ответа</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Описание поля</strong></p></th></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>items</strong></p></th><td class="confluenceTd"><p>Список объектов операций (в зависимости от типа, у объекта будет разная структура)</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>total</strong></p></th><td class="confluenceTd"><p>Общее количество операций в заданном периоде</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>page</strong></p></th><td class="confluenceTd"><p>Номер текущей страницы</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>pages</strong></p></th><td class="confluenceTd"><p>Всего страниц</p></td></tr></tbody></table></div><h3 id="id-Списокоперацийпосчётупартнера/account_operations-Методполученияоднойоперации">Метод получения одной операции</h3><blockquote><p>GET /api/v1/operations/{type}/{id}</p></blockquote><div class="table-wrap"><table data-layout="default" data-local-id="c4b36ce4-de66-469c-bdcc-98bc9d0d2ff5" class="confluenceTable"><colgroup><col style="width: 170.0px;"/><col style="width: 170.0px;"/><col style="width: 170.0px;"/><col style="width: 170.0px;"/></colgroup><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>URL параметры</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Описание поля</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Тип</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Пример</strong></p></th></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>type</strong></p></th><td class="confluenceTd"><p>Тип операции</p></td><td class="confluenceTd"><p>string (path)</p></td><td class="confluenceTd"><p>charge_unregistered</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>id</strong></p></th><td class="confluenceTd"><p>Идентификатор операции</p></td><td class="confluenceTd"><p>string (path)</p></td><td class="confluenceTd"><p>1234567890</p></td></tr></tbody></table></div><p><strong>Пример ответа: Status 200 OK</strong></p><div class="table-wrap"><table data-layout="default" data-local-id="7809f9e3-ea50-4ee1-abc6-c1869964a081" class="confluenceTable"><colgroup><col style="width: 340.0px;"/></colgroup><tbody><tr><td data-highlight-colour="initial" class="confluenceTd"><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">{
  &quot;type&quot;: &quot;bank_refill&quot;,
  &quot;id&quot;: &quot;b5037d5f-3faf-447b-823d-01ddd480002c&quot;,
  &quot;datetime&quot;: &quot;2021-05-27T12:31:52+00:00&quot;,
  &quot;amount&quot;: 100,
  &quot;sender_inn&quot;: &quot;1234567890&quot;,
  &quot;sender_name&quot;: &quot;ООО «Рога и копыта»&quot;,
  &quot;description&quot;: &quot;Назначение платежа&quot;
}
</pre>
</div></div></td></tr></tbody></table></div><h3 id="id-Списокоперацийпосчётупартнера/account_operations-Структураоперации">Структура операции</h3><h4 id="id-Списокоперацийпосчётупартнера/account_operations-Пополнениечерезбанк(bank_refill)">Пополнение через банк (bank_refill)</h4><div class="table-wrap"><table data-layout="default" data-local-id="22805823-5065-42fc-8fb8-d0dc842f4310" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Поле</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Описание поля</strong></p></th></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>type</strong></p></th><td class="confluenceTd"><p>Тип операции (bank_refill)</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>id</strong></p></th><td class="confluenceTd"><p>Идентификатор операции</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>datetime</strong></p></th><td class="confluenceTd"><p>Дата и время операции в формате ISO 8601</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>is_refill</strong></p></th><td class="confluenceTd"><p>Флаг операции пополнения</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>amount</strong></p></th><td class="confluenceTd"><p>Сумма (в копейках)</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>sender_inn</strong></p></th><td class="confluenceTd"><p>ИНН отправителя</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>sender_name</strong></p></th><td class="confluenceTd"><p>Название отправителя</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>description</strong></p></th><td class="confluenceTd"><p>Назначение платежа</p></td></tr></tbody></table></div><h4 id="id-Списокоперацийпосчётупартнера/account_operations-Выводпореквизитам(transfer)">Вывод по реквизитам (transfer)</h4><div class="table-wrap"><table data-layout="default" data-local-id="60bea655-fe6d-4a0d-b47e-280cd0b4e935" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Поле</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Описание поля</strong></p></th></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>type</strong></p></th><td class="confluenceTd"><p>Тип операции (transfer)</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>id</strong></p></th><td class="confluenceTd"><p>Идентификатор операции</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>datetime</strong></p></th><td class="confluenceTd"><p>Дата и время операции в формате ISO 8601</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>is_refill</strong></p></th><td class="confluenceTd"><p>Флаг операции пополнения</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>amount</strong></p></th><td class="confluenceTd"><p>Сумма (в копейках)</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>commission</strong></p></th><td class="confluenceTd"><p>Комиссия</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>bank_account</strong></p></th><td class="confluenceTd"><p>Номер счета, на который переводили</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>bank_bik</strong></p></th><td class="confluenceTd"><p>БИК банка, в который переводили</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>company_name</strong></p></th><td class="confluenceTd"><p>Название компании, которой переводили</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>description</strong></p></th><td class="confluenceTd"><p>Назначение платежа</p></td></tr></tbody></table></div><h4 id="id-Списокоперацийпосчётупартнера/account_operations-Остальныетипыопераций">Остальные типы операций</h4><div class="table-wrap"><table data-layout="default" data-local-id="a3f7fe66-9458-4230-859b-e737f478cbc7" class="confluenceTable"><colgroup><col style="width: 340.0px;"/><col style="width: 340.0px;"/></colgroup><tbody><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Поле</strong></p></th><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>Описание поля</strong></p></th></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>type</strong></p></th><td class="confluenceTd"><p>Тип операции</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>id</strong></p></th><td class="confluenceTd"><p>Идентификатор операции</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>datetime</strong></p></th><td class="confluenceTd"><p>Дата и время операции в формате ISO 8601</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>is_refill</strong></p></th><td class="confluenceTd"><p>Флаг операции пополнения</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>amount</strong></p></th><td class="confluenceTd"><p>Сумма (в копейках)</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>commission</strong></p></th><td class="confluenceTd"><p>Комиссия</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>rrn</strong></p></th><td class="confluenceTd"><p>RRN</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>card_number</strong></p></th><td class="confluenceTd"><p>Номер карты</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>cardholder</strong></p></th><td class="confluenceTd"><p>Владелец карты</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>issuing_bank</strong></p></th><td class="confluenceTd"><p>Банк эмитент</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>payment_system</strong></p></th><td class="confluenceTd"><p>Платежная система</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>status</strong></p></th><td class="confluenceTd"><p>Статус операции</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>status_description</strong></p></th><td class="confluenceTd"><p>Описание статуса ( если статус ошибка)</p></td></tr><tr><th data-highlight-colour="#f0f0f0" class="confluenceTh"><p><strong>remaining_amount</strong></p></th><td class="confluenceTd"><p>Оставшаяся после возвратов сумма</p></td></tr></tbody></table></div><p><strong>Возможные типы операций</strong></p><div class="table-wrap"><table data-layout="default" data-local-id="4e7cc817-fb34-4349-afad-61e7bab0ee1d" class="confluenceTable"><colgroup><col style="width: 232.0px;"/><col style="width: 527.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><p><strong>Тип операции</strong></p></th><th class="confluenceTh"><p><strong>Описание </strong></p></th></tr><tr><td class="confluenceTd"><p>bank_refill</p></td><td class="confluenceTd"><p>Пополнение счета по реквизитам</p></td></tr><tr><td class="confluenceTd"><p>transfer</p></td><td class="confluenceTd"><p>Перевод со счета по реквизита.</p><p>Проводится с помощью метода <a href="https://talkbank.atlassian.net/wiki/spaces/BAAS/pages/1221099580/payment%2Bto%2Baccount" rel="nofollow">payment_to_account</a></p></td></tr><tr><td class="confluenceTd"><p>charge_auth</p></td><td class="confluenceTd"><p>Авторизационный платеж.</p><p>Проводится с помощью методов:</p><p><a href="https://talkbank.atlassian.net/wiki/spaces/BAAS/pages/625344589/payment%2Bauthorization" rel="nofollow">payment_authorization </a>и <a href="https://talkbank.atlassian.net/wiki/spaces/BAAS/pages/625344596/payment%2Bauthorization%2Bwith%2Bform" rel="nofollow">payment_authorization_with_form</a></p></td></tr><tr><td class="confluenceTd"><p>charge_hold</p></td><td class="confluenceTd"><p>Операции холдирования</p><p>Проводятся с помощью методов:</p><p><a href="616726726.html" data-linked-resource-id="616726726" data-linked-resource-version="3" data-linked-resource-type="page">hold</a> и <a href="619413696.html" data-linked-resource-id="619413696" data-linked-resource-version="3" data-linked-resource-type="page">hold_with_form</a></p></td></tr><tr><td class="confluenceTd"><p>charge_registered</p></td><td class="confluenceTd"><p>Списание с зарегистрированной карты.</p><p>Проводится с помощью метода <a href="622166180.html" data-linked-resource-id="622166180" data-linked-resource-version="4" data-linked-resource-type="page">payment_from_registered_card</a></p></td></tr><tr><td class="confluenceTd"><p>charge_unregistered</p></td><td class="confluenceTd"><p>Списание с незарегистрированной карты.</p><p>Проводятся с помощью методов:</p><p><a href="616726705.html" data-linked-resource-id="616726705" data-linked-resource-version="4" data-linked-resource-type="page">payment_from_unregistered_card</a> и <a href="619282565.html" data-linked-resource-id="619282565" data-linked-resource-version="4" data-linked-resource-type="page">payment_from_unregistered_card_with_form</a></p></td></tr><tr><td class="confluenceTd"><p>withdrawal</p></td><td class="confluenceTd"><p>Списание с карты TalkBank.</p><p>Проводится с помощью метода <a href="622166187.html" data-linked-resource-id="622166187" data-linked-resource-version="6" data-linked-resource-type="page">card_withdrawal</a></p></td></tr><tr><td class="confluenceTd"><p>refill_registered</p></td><td class="confluenceTd"><p>Пополнение зарегистрированной карты.</p><p>Проводится с помощью метода <a href="622166225.html" data-linked-resource-id="622166225" data-linked-resource-version="9" data-linked-resource-type="page">payment_to_registered_card</a></p></td></tr><tr><td class="confluenceTd"><p>refill_unregistered</p></td><td class="confluenceTd"><p>Пополнение незарегистрированной карты.</p><p>Проводятся с помощью методов: <a href="622166232.html" data-linked-resource-id="622166232" data-linked-resource-version="11" data-linked-resource-type="page">payment_to_unregistered_card</a> и <a href="622166239.html" data-linked-resource-id="622166239" data-linked-resource-version="10" data-linked-resource-type="page">payment_to_unregistered_card_with_form</a></p></td></tr><tr><td class="confluenceTd"><p>refill</p></td><td class="confluenceTd"><p>Пополнение карты TalkBank.</p><p>Проводится с помощью метода <a href="622166201.html" data-linked-resource-id="622166201" data-linked-resource-version="8" data-linked-resource-type="page">card_refill</a></p></td></tr></tbody></table></div><p />
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on мар. 10, 2022 10:27</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
